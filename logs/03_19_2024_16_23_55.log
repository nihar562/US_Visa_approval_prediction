[ 2024-03-19 16:23:59,781 ] root - INFO - Entered the start_data_ingestion method of TrainPipeline class
[ 2024-03-19 16:23:59,781 ] root - INFO - Getting the data from mongodb
[ 2024-03-19 16:23:59,781 ] root - INFO - Entered initiate_data_ingestion method of Data_Ingestion class
[ 2024-03-19 16:23:59,781 ] root - INFO - Exporting data from mongodb
[ 2024-03-19 16:24:00,832 ] root - INFO - MongoDB connection succesfull
[ 2024-03-19 16:24:17,437 ] root - INFO - Shape of dataframe: (25480, 12)
[ 2024-03-19 16:24:17,437 ] root - INFO - Saving exported data into feature store file path: artifact\03_19_2024_16_23_57\data_ingestion\feature_store\usvisa.csv
[ 2024-03-19 16:24:17,668 ] root - INFO - Got the data from mongodb
[ 2024-03-19 16:24:17,669 ] root - INFO - Entered split_data_as_train_test method of Data_Ingestion class
[ 2024-03-19 16:24:17,751 ] root - INFO - Performed train test split on the dataframe
[ 2024-03-19 16:24:17,751 ] root - INFO - Exited split_data_as_train_test method of Data_Ingestion class
[ 2024-03-19 16:24:17,751 ] root - INFO - Exporting train and test file path.
[ 2024-03-19 16:24:17,908 ] root - INFO - Exported train and test file path.
[ 2024-03-19 16:24:17,908 ] root - INFO - Performed train test split on the dataset
[ 2024-03-19 16:24:17,908 ] root - INFO - Exited initiate_data_ingestion method of Data_Ingestion class
[ 2024-03-19 16:24:17,908 ] root - INFO - Data ingestion artifact: DataIngestionArtifact(trained_file_path='artifact\\03_19_2024_16_23_57\\data_ingestion\\ingested\\train.csv', test_file_path='artifact\\03_19_2024_16_23_57\\data_ingestion\\ingested\\test.csv')
[ 2024-03-19 16:24:17,923 ] root - INFO - Got the train_set and test_set from mongodb
[ 2024-03-19 16:24:17,923 ] root - INFO - Exited the start_data_ingestion method of TrainPipeline class
[ 2024-03-19 16:24:17,923 ] root - INFO - Entered the start_data_validation method of TrainPipeline class
[ 2024-03-19 16:24:17,923 ] root - INFO - Starting data validation
[ 2024-03-19 16:24:18,038 ] root - INFO - Is required column present: [True]
[ 2024-03-19 16:24:18,038 ] root - INFO - All required columns present in training dataframe: True
[ 2024-03-19 16:24:18,038 ] root - INFO - Is required column present: [True]
[ 2024-03-19 16:24:18,038 ] root - INFO - All required columns present in testing dataframe: True
[ 2024-03-19 16:25:14,025 ] root - INFO - 1/12 drift detected.
[ 2024-03-19 16:25:14,025 ] root - INFO - Data validation artifact: DataValidationArtifact(validation_status=True, message='Drift not detected', drift_report_file_path='artifact\\03_19_2024_16_23_57\\data_validation\\drift_report\\report.yaml')
[ 2024-03-19 16:25:14,025 ] root - INFO - Performed the data validation operation
[ 2024-03-19 16:25:14,025 ] root - INFO - Exited the start_data_validation method of TrainPipeline class
[ 2024-03-19 16:25:14,041 ] root - INFO - Starting data transformation
[ 2024-03-19 16:25:14,041 ] root - INFO - Entered get_data_transformer_object method of DataTransformation class
[ 2024-03-19 16:25:14,041 ] root - INFO - Got numerical cols from schema config
[ 2024-03-19 16:25:14,041 ] root - INFO - Initialized StandardScaler, OneHotEncoder, OrdinalEncoder
[ 2024-03-19 16:25:14,041 ] root - INFO - Initialize PowerTransformer
[ 2024-03-19 16:25:14,041 ] root - INFO - Created preprocessor object from ColumnTransformer
[ 2024-03-19 16:25:14,041 ] root - INFO - Exited get_data_transformer_object method of DataTransformation class
[ 2024-03-19 16:25:14,041 ] root - INFO - Got the preprocessor object
[ 2024-03-19 16:25:14,088 ] root - INFO - Got train features and test features of Training dataset
[ 2024-03-19 16:25:14,088 ] root - INFO - Added company_age column to the Training dataset
[ 2024-03-19 16:25:14,088 ] root - INFO - drop the columns in drop_cols of Training dataset
[ 2024-03-19 16:25:14,088 ] root - INFO - Entered drop_columns methon of utils
[ 2024-03-19 16:25:14,103 ] root - INFO - Exited the drop_columns method of utils
[ 2024-03-19 16:25:14,103 ] root - INFO - Added company_age column to the Test dataset
[ 2024-03-19 16:25:14,103 ] root - INFO - Entered drop_columns methon of utils
[ 2024-03-19 16:25:14,103 ] root - INFO - Exited the drop_columns method of utils
[ 2024-03-19 16:25:14,103 ] root - INFO - drop the columns in drop_cols of Test dataset
[ 2024-03-19 16:25:14,103 ] root - INFO - Got train features and test features of Testing dataset
[ 2024-03-19 16:25:14,103 ] root - INFO - Applying preprocessing object on training dataframe and testing dataframe
[ 2024-03-19 16:25:14,292 ] root - INFO - Used the preprocessor object to fit transform the train features
[ 2024-03-19 16:25:14,323 ] root - INFO - Used the preprocessor object to transform the test features
[ 2024-03-19 16:25:14,323 ] root - INFO - Applying SMOTEENN on Training dataset
[ 2024-03-19 16:25:17,471 ] root - INFO - Applied SMOTEENN on training dataset
[ 2024-03-19 16:25:17,471 ] root - INFO - Applying SMOTEENN on testing dataset
[ 2024-03-19 16:25:17,597 ] root - INFO - Applied SMOTEENN on testing dataset
[ 2024-03-19 16:25:17,597 ] root - INFO - Created train array and test array
[ 2024-03-19 16:25:17,597 ] root - INFO - Entered the save_object method of utils
[ 2024-03-19 16:25:17,612 ] root - INFO - Exited the save_object method of utils
[ 2024-03-19 16:25:17,612 ] root - INFO - Saved the preprocessor object
[ 2024-03-19 16:25:17,612 ] root - INFO - Exited initiate_data_transformation method of Data_Transformation class
[ 2024-03-19 16:25:17,628 ] root - INFO - Entered initiate_model_trainer method of ModelTrainer class
[ 2024-03-19 16:25:17,659 ] root - INFO - Using neuro_mf to get best model object and report
[ 2024-03-19 16:25:17,675 ] neuro_mf - INFO - Started Initializing model from config file
[ 2024-03-19 16:25:17,675 ] neuro_mf - INFO - {'algorithm': 'kd_tree', 'weights': 'uniform', 'n_neighbors': 3}
[ 2024-03-19 16:25:17,675 ] neuro_mf - INFO - {'max_depth': 10, 'max_features': 'sqrt', 'n_estimators': 3}
[ 2024-03-19 16:25:17,691 ] neuro_mf - INFO - Initialized model: [InitializedModelDetail(model_serial_number='module_0', model=KNeighborsClassifier(algorithm='kd_tree', n_neighbors=3), param_grid_search={'algorithm': ['auto', 'ball_tree', 'kd_tree', 'brute'], 'weights': ['uniform', 'distance'], 'n_neighbors': [3, 5, 9]}, model_name='sklearn.neighbors.KNeighborsClassifier'), InitializedModelDetail(model_serial_number='module_1', model=RandomForestClassifier(max_depth=10, n_estimators=3), param_grid_search={'max_depth': [10, 15, 20], 'max_features': ['sqrt', 'log2'], 'n_estimators': [3, 5, 9]}, model_name='sklearn.ensemble.RandomForestClassifier')]
[ 2024-03-19 16:25:17,691 ] neuro_mf - INFO - ('**************************************************', 'training KNeighborsClassifier', '**************************************************')
[ 2024-03-19 16:25:17,691 ] neuro_mf - INFO - {'cv': 3, 'verbose': 3}
[ 2024-03-19 16:25:51,500 ] neuro_mf - INFO - ('**************************************************', 'training RandomForestClassifier', '**************************************************')
[ 2024-03-19 16:25:51,500 ] neuro_mf - INFO - {'cv': 3, 'verbose': 3}
[ 2024-03-19 16:25:58,850 ] neuro_mf - INFO - Acceptable model found:GridSearchedBestModel(model_serial_number='module_0', model=KNeighborsClassifier(algorithm='kd_tree', n_neighbors=3), best_model=KNeighborsClassifier(n_neighbors=3, weights='distance'), best_parameters={'algorithm': 'auto', 'n_neighbors': 3, 'weights': 'distance'}, best_score=0.9571344896715939)
[ 2024-03-19 16:25:58,850 ] neuro_mf - INFO - Best model: GridSearchedBestModel(model_serial_number='module_0', model=KNeighborsClassifier(algorithm='kd_tree', n_neighbors=3), best_model=KNeighborsClassifier(n_neighbors=3, weights='distance'), best_parameters={'algorithm': 'auto', 'n_neighbors': 3, 'weights': 'distance'}, best_score=0.9571344896715939)
[ 2024-03-19 16:25:59,007 ] root - INFO - Entered the load_object method of utils
[ 2024-03-19 16:25:59,054 ] root - INFO - Exited the load_object method of utils
[ 2024-03-19 16:25:59,054 ] root - INFO - Created usvisa model object with preprocessor and model
[ 2024-03-19 16:25:59,054 ] root - INFO - Created best model file path.
[ 2024-03-19 16:25:59,054 ] root - INFO - Entered the save_object method of utils
[ 2024-03-19 16:25:59,054 ] root - INFO - Exited the save_object method of utils
[ 2024-03-19 16:25:59,054 ] root - INFO - Model trainer artifact: ModelTrainerArtifact(trained_model_file_path='artifact\\03_19_2024_16_23_57\\model_trainer\\trained_model\\model.pkl', metric_artifact=ClassificationMetricArtifact(f1_score=0.8410704533042054, precision_score=0.845225027442371, recall_score=0.8369565217391305))
