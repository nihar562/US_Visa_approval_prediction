[ 2024-03-19 17:12:03,725 ] root - INFO - Entered the start_data_ingestion method of TrainPipeline class
[ 2024-03-19 17:12:03,725 ] root - INFO - Getting the data from mongodb
[ 2024-03-19 17:12:03,726 ] root - INFO - Entered initiate_data_ingestion method of Data_Ingestion class
[ 2024-03-19 17:12:03,726 ] root - INFO - Exporting data from mongodb
[ 2024-03-19 17:12:05,312 ] root - INFO - MongoDB connection succesfull
[ 2024-03-19 17:12:30,116 ] root - INFO - Shape of dataframe: (25480, 12)
[ 2024-03-19 17:12:30,118 ] root - INFO - Saving exported data into feature store file path: artifact\03_19_2024_17_11_57\data_ingestion\feature_store\usvisa.csv
[ 2024-03-19 17:12:30,286 ] root - INFO - Got the data from mongodb
[ 2024-03-19 17:12:30,286 ] root - INFO - Entered split_data_as_train_test method of Data_Ingestion class
[ 2024-03-19 17:12:30,339 ] root - INFO - Performed train test split on the dataframe
[ 2024-03-19 17:12:30,339 ] root - INFO - Exited split_data_as_train_test method of Data_Ingestion class
[ 2024-03-19 17:12:30,339 ] root - INFO - Exporting train and test file path.
[ 2024-03-19 17:12:30,534 ] root - INFO - Exported train and test file path.
[ 2024-03-19 17:12:30,537 ] root - INFO - Performed train test split on the dataset
[ 2024-03-19 17:12:30,537 ] root - INFO - Exited initiate_data_ingestion method of Data_Ingestion class
[ 2024-03-19 17:12:30,538 ] root - INFO - Data ingestion artifact: DataIngestionArtifact(trained_file_path='artifact\\03_19_2024_17_11_57\\data_ingestion\\ingested\\train.csv', test_file_path='artifact\\03_19_2024_17_11_57\\data_ingestion\\ingested\\test.csv')
[ 2024-03-19 17:12:30,550 ] root - INFO - Got the train_set and test_set from mongodb
[ 2024-03-19 17:12:30,550 ] root - INFO - Exited the start_data_ingestion method of TrainPipeline class
[ 2024-03-19 17:12:30,550 ] root - INFO - Entered the start_data_validation method of TrainPipeline class
[ 2024-03-19 17:12:30,569 ] root - INFO - Starting data validation
[ 2024-03-19 17:12:30,701 ] root - INFO - Is required column present: [True]
[ 2024-03-19 17:12:30,701 ] root - INFO - All required columns present in training dataframe: True
[ 2024-03-19 17:12:30,701 ] root - INFO - Is required column present: [True]
[ 2024-03-19 17:12:30,701 ] root - INFO - All required columns present in testing dataframe: True
[ 2024-03-19 17:13:28,614 ] root - INFO - 1/12 drift detected.
[ 2024-03-19 17:13:28,618 ] root - INFO - Data validation artifact: DataValidationArtifact(validation_status=True, message='Drift not detected', drift_report_file_path='artifact\\03_19_2024_17_11_57\\data_validation\\drift_report\\report.yaml')
[ 2024-03-19 17:13:28,619 ] root - INFO - Performed the data validation operation
[ 2024-03-19 17:13:28,619 ] root - INFO - Exited the start_data_validation method of TrainPipeline class
[ 2024-03-19 17:13:28,628 ] root - INFO - Starting data transformation
[ 2024-03-19 17:13:28,628 ] root - INFO - Entered get_data_transformer_object method of DataTransformation class
[ 2024-03-19 17:13:28,628 ] root - INFO - Got numerical cols from schema config
[ 2024-03-19 17:13:28,628 ] root - INFO - Initialized StandardScaler, OneHotEncoder, OrdinalEncoder
[ 2024-03-19 17:13:28,628 ] root - INFO - Initialize PowerTransformer
[ 2024-03-19 17:13:28,628 ] root - INFO - Created preprocessor object from ColumnTransformer
[ 2024-03-19 17:13:28,628 ] root - INFO - Exited get_data_transformer_object method of DataTransformation class
[ 2024-03-19 17:13:28,628 ] root - INFO - Got the preprocessor object
[ 2024-03-19 17:13:28,685 ] root - INFO - Got train features and test features of Training dataset
[ 2024-03-19 17:13:28,686 ] root - INFO - Added company_age column to the Training dataset
[ 2024-03-19 17:13:28,686 ] root - INFO - drop the columns in drop_cols of Training dataset
[ 2024-03-19 17:13:28,686 ] root - INFO - Entered drop_columns methon of utils
[ 2024-03-19 17:13:28,688 ] root - INFO - Exited the drop_columns method of utils
[ 2024-03-19 17:13:28,698 ] root - INFO - Added company_age column to the Test dataset
[ 2024-03-19 17:13:28,699 ] root - INFO - Entered drop_columns methon of utils
[ 2024-03-19 17:13:28,700 ] root - INFO - Exited the drop_columns method of utils
[ 2024-03-19 17:13:28,700 ] root - INFO - drop the columns in drop_cols of Test dataset
[ 2024-03-19 17:13:28,702 ] root - INFO - Got train features and test features of Testing dataset
[ 2024-03-19 17:13:28,702 ] root - INFO - Applying preprocessing object on training dataframe and testing dataframe
[ 2024-03-19 17:13:28,892 ] root - INFO - Used the preprocessor object to fit transform the train features
[ 2024-03-19 17:13:28,912 ] root - INFO - Used the preprocessor object to transform the test features
[ 2024-03-19 17:13:28,912 ] root - INFO - Applying SMOTEENN on Training dataset
[ 2024-03-19 17:13:32,194 ] root - INFO - Applied SMOTEENN on training dataset
[ 2024-03-19 17:13:32,194 ] root - INFO - Applying SMOTEENN on testing dataset
[ 2024-03-19 17:13:32,372 ] root - INFO - Applied SMOTEENN on testing dataset
[ 2024-03-19 17:13:32,372 ] root - INFO - Created train array and test array
[ 2024-03-19 17:13:32,374 ] root - INFO - Entered the save_object method of utils
[ 2024-03-19 17:13:32,389 ] root - INFO - Exited the save_object method of utils
[ 2024-03-19 17:13:32,396 ] root - INFO - Saved the preprocessor object
[ 2024-03-19 17:13:32,396 ] root - INFO - Exited initiate_data_transformation method of Data_Transformation class
[ 2024-03-19 17:13:32,400 ] root - INFO - Entered initiate_model_trainer method of ModelTrainer class
[ 2024-03-19 17:13:32,467 ] root - INFO - Using neuro_mf to get best model object and report
[ 2024-03-19 17:13:32,509 ] neuro_mf - INFO - Started Initializing model from config file
[ 2024-03-19 17:13:32,509 ] neuro_mf - INFO - {'algorithm': 'kd_tree', 'weights': 'uniform', 'n_neighbors': 3}
[ 2024-03-19 17:13:32,510 ] neuro_mf - INFO - {'max_depth': 10, 'max_features': 'sqrt', 'n_estimators': 3}
[ 2024-03-19 17:13:32,527 ] neuro_mf - INFO - Initialized model: [InitializedModelDetail(model_serial_number='module_0', model=KNeighborsClassifier(algorithm='kd_tree', n_neighbors=3), param_grid_search={'algorithm': ['auto', 'ball_tree', 'kd_tree', 'brute'], 'weights': ['uniform', 'distance'], 'n_neighbors': [3, 5, 9]}, model_name='sklearn.neighbors.KNeighborsClassifier'), InitializedModelDetail(model_serial_number='module_1', model=RandomForestClassifier(max_depth=10, n_estimators=3), param_grid_search={'max_depth': [10, 15, 20], 'max_features': ['sqrt', 'log2'], 'n_estimators': [3, 5, 9]}, model_name='sklearn.ensemble.RandomForestClassifier')]
[ 2024-03-19 17:13:32,527 ] neuro_mf - INFO - ('**************************************************', 'training KNeighborsClassifier', '**************************************************')
[ 2024-03-19 17:13:32,528 ] neuro_mf - INFO - {'cv': 3, 'verbose': 3}
[ 2024-03-19 17:14:05,497 ] neuro_mf - INFO - ('**************************************************', 'training RandomForestClassifier', '**************************************************')
[ 2024-03-19 17:14:05,498 ] neuro_mf - INFO - {'cv': 3, 'verbose': 3}
[ 2024-03-19 17:14:12,940 ] neuro_mf - INFO - Acceptable model found:GridSearchedBestModel(model_serial_number='module_0', model=KNeighborsClassifier(algorithm='kd_tree', n_neighbors=3), best_model=KNeighborsClassifier(n_neighbors=3, weights='distance'), best_parameters={'algorithm': 'auto', 'n_neighbors': 3, 'weights': 'distance'}, best_score=0.9576338928856915)
[ 2024-03-19 17:14:12,940 ] neuro_mf - INFO - Best model: GridSearchedBestModel(model_serial_number='module_0', model=KNeighborsClassifier(algorithm='kd_tree', n_neighbors=3), best_model=KNeighborsClassifier(n_neighbors=3, weights='distance'), best_parameters={'algorithm': 'auto', 'n_neighbors': 3, 'weights': 'distance'}, best_score=0.9576338928856915)
[ 2024-03-19 17:14:13,061 ] root - INFO - Entered the load_object method of utils
[ 2024-03-19 17:14:13,086 ] root - INFO - Exited the load_object method of utils
[ 2024-03-19 17:14:13,086 ] root - INFO - Created usvisa model object with preprocessor and model
[ 2024-03-19 17:14:13,087 ] root - INFO - Created best model file path.
[ 2024-03-19 17:14:13,087 ] root - INFO - Entered the save_object method of utils
[ 2024-03-19 17:14:13,100 ] root - INFO - Exited the save_object method of utils
[ 2024-03-19 17:14:13,100 ] root - INFO - Model trainer artifact: ModelTrainerArtifact(trained_model_file_path='artifact\\03_19_2024_17_11_57\\model_trainer\\trained_model\\model.pkl', metric_artifact=ClassificationMetricArtifact(f1_score=0.8356009070294784, precision_score=0.8594752186588921, recall_score=0.8130170987313844))
